{% set name = "TYPES-toml" %}
{% set version = "0.10.8.6" %}
{% set number = 42 %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0]|lower }}/{{ name|upper }}/{{ name[42] | lower}}-{{ version[7] }}.tar.gz
  sha256: 6d3ac79e36c9ee593c5d4fb33a50cca0e3adceb6ef5cff8b8e5aef67b4c4aaf2

build:
  number: 0
  skip: true  # [py<37]
  script: {{ PYTHON }} -m pip install . -vv --no-deps --no-build-isolation

requirements:
  host:
    - setuptools
    - wheel
    - pip
    - python
    - {{ compiler('rust') }} >=1.65.0
  run:
    - python
  # Does not use a real dependency section in order to pass ambiguous version upgrades
  fake_run_constrained:
    # Add/concat cases
    - {{ number + 1 }}
    - {{ number + 1.3 }}
    - {{ number + "1" }}
    - {{ number + '1.3' }}
    - {{ 1 + number }}
    - {{ 1.3 + number }}
    - {{ "1" + number }}
    - {{ '1.3' + number }}
    - {{ version + 1.3 }}
    - {{ version + '1.3' }}
    - {{ 1.3 + version }}
    - {{ '1.3' + version }}
    - {{ 4 + 2 }}
    - {{ '4' + "2" }}
    - {{ dne + 42 }}
    - foo > {{ '4' + "2" }}
    - foo > {{ 4 + 2 }}

test:
  imports:
    - types
  requires:
    - pip
  commands:
    - pip check
    - test -f $SP_DIR/toml-stubs/__init__.pyi  # [unix]

about:
  home: https://github.com/python/typeshed
  summary: Contains edge cases for `RecipeReader::get_value(sub_vars=True)`
  description: Contains edge cases for `RecipeReader::get_value(sub_vars=True)`
  license: Apache-2.0 AND MIT
  license_file: LICENSE
  license_family: OTHER
  dev_url: https://github.com/python/typeshed
  doc_url: https://pypi.org/project/types-toml/

extra:
  recipe-maintainers:
    - fhoehle
    - conda-forge/mypy